<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Quick Start Guide &#8212; DistQat  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Setup/Deployment" href="DEPLOYMENT.html" />
    <link rel="prev" title="Documentation" href="README.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="quick-start-guide">
<h1>Quick Start Guide<a class="headerlink" href="#quick-start-guide" title="Link to this heading">¶</a></h1>
<p>Get up and running with DistQat in 5 minutes!</p>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Python 3.10+</p></li>
<li><p>CUDA- or ROCM-capable GPU (recommended)</p></li>
<li><p>Linux OS</p></li>
</ul>
</section>
<section id="installation">
<h2>1. Installation<a class="headerlink" href="#installation" title="Link to this heading">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install uv</span>
curl<span class="w"> </span>-LsSf<span class="w"> </span>https://astral.sh/uv/install.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>sh

<span class="c1"># Create environment</span>
uv<span class="w"> </span>venv<span class="w"> </span>--python<span class="o">=</span><span class="m">3</span>.10
<span class="nb">source</span><span class="w"> </span>.venv/bin/activate

<span class="c1"># Install dependencies</span>
uv<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>torch<span class="w"> </span>torchvision<span class="w"> </span>--index-url<span class="w"> </span>https://download.pytorch.org/whl/cu129
uv<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>.
</pre></div>
</div>
</section>
<section id="local-training">
<h2>2. Local Training<a class="headerlink" href="#local-training" title="Link to this heading">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>run_local.py<span class="w"> </span>--config-path<span class="w"> </span>configs/resnet18.yaml
</pre></div>
</div>
</section>
<section id="distributed-training">
<h2>3. Distributed Training<a class="headerlink" href="#distributed-training" title="Link to this heading">¶</a></h2>
<section id="on-machine-1-coordinator">
<h3>On Machine 1 (Coordinator):<a class="headerlink" href="#on-machine-1-coordinator" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">PUBLIC_IP</span><span class="o">=</span><span class="s2">&quot;YOUR_PUBLIC_IP&quot;</span>
python<span class="w"> </span>start_trainer_client.py<span class="w"> </span>--public-ip<span class="w"> </span><span class="si">${</span><span class="nv">PUBLIC_IP</span><span class="si">}</span>

<span class="c1"># Wait a few seconds, then get the peer address:</span>
cat<span class="w"> </span>logs/resnet18/initial_peers.txt
</pre></div>
</div>
</section>
<section id="on-machine-2-workers">
<h3>On Machine 2+ (Workers):<a class="headerlink" href="#on-machine-2-workers" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">PUBLIC_IP</span><span class="o">=</span><span class="s2">&quot;YOUR_PUBLIC_IP&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">INITIAL_PEERS</span><span class="o">=</span><span class="s2">&quot;&lt;peer_address_from_machine_1&gt;&quot;</span>

python<span class="w"> </span>start_servers.py<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--public-ip<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">PUBLIC_IP</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--num-servers<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--initial-peers<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">INITIAL_PEERS</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="skypilot-deployment">
<h2>4. SkyPilot Deployment<a class="headerlink" href="#skypilot-deployment" title="Link to this heading">¶</a></h2>
<p>DistQat ships ready-to-run SkyPilot specs for cloud fleets. Review the <a class="reference internal" href="SKYPILOT_SERVER_SETUP.html"><span class="std std-doc">SkyPilot server setup guide</span></a> to prepare the API server and credentials.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">WANDB_API_KEY</span><span class="o">=</span>&lt;your_wandb_token&gt;

<span class="c1"># First rollout</span>
sky<span class="w"> </span>launch<span class="w"> </span>-c<span class="w"> </span>distqat-trainer<span class="w"> </span>./skypilot/start_trainer_client.yaml<span class="w"> </span>--secret<span class="w"> </span>WANDB_API_KEY
sky<span class="w"> </span>launch<span class="w"> </span>-c<span class="w"> </span>distqat-servers<span class="w"> </span>./skypilot/start_servers.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--env<span class="w"> </span><span class="nv">NUM_SERVERS</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--env<span class="w"> </span><span class="nv">INITIAL_PEERS</span><span class="o">=</span><span class="s2">&quot;/ip4/&lt;trainer_public_ip&gt;/tcp/50000/p2p/&lt;peer_id&gt;&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--secret<span class="w"> </span>WANDB_API_KEY

<span class="c1"># Subsequent runs (reuse setup)</span>
sky<span class="w"> </span>launch<span class="w"> </span>-c<span class="w"> </span>distqat-trainer<span class="w"> </span>./skypilot/start_trainer_client.yaml<span class="w"> </span>--secret<span class="w"> </span>WANDB_API_KEY<span class="w"> </span>--no-setup
sky<span class="w"> </span>launch<span class="w"> </span>-c<span class="w"> </span>distqat-servers<span class="w"> </span>./skypilot/start_servers.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--env<span class="w"> </span><span class="nv">NUM_SERVERS</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--env<span class="w"> </span><span class="nv">INITIAL_PEERS</span><span class="o">=</span><span class="s2">&quot;/ip4/&lt;trainer_public_ip&gt;/tcp/50000/p2p/&lt;peer_id&gt;&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--secret<span class="w"> </span>WANDB_API_KEY<span class="w"> </span>--no-setup
</pre></div>
</div>
</section>
<section id="common-issues">
<h2>Common Issues<a class="headerlink" href="#common-issues" title="Link to this heading">¶</a></h2>
<section id="leftover-processes">
<h3>Leftover Processes<a class="headerlink" href="#leftover-processes" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pkill<span class="w"> </span>-f<span class="w"> </span>distqat
</pre></div>
</div>
</section>
<section id="port-in-use">
<h3>Port in Use<a class="headerlink" href="#port-in-use" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">kill</span><span class="w"> </span>-9<span class="w"> </span><span class="k">$(</span>lsof<span class="w"> </span>-t<span class="w"> </span>-i:50000<span class="k">)</span>
</pre></div>
</div>
</section>
<section id="cuda-out-of-memory">
<h3>CUDA Out-of-memory<a class="headerlink" href="#cuda-out-of-memory" title="Link to this heading">¶</a></h3>
<p>Edit <code class="docutils literal notranslate"><span class="pre">configs/resnet18.yaml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">diloco</span><span class="p">:</span>
<span class="w">  </span><span class="nt">batch_size_per_step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">16</span><span class="w">  </span><span class="c1"># Reduce from 64</span>
</pre></div>
</div>
</section>
</section>
<section id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Read the <a class="reference internal" href="README.html"><span class="std std-doc">full README</span></a> for detailed documentation</p></li>
<li><p>Check <a class="reference internal" href="README.html#configuration"><span class="std std-ref">configuration guide</span></a> to customize training</p></li>
<li><p>See <a class="reference internal" href="README.html#examples"><span class="std std-ref">examples</span></a> for different models</p></li>
<li><p>Review <a class="reference internal" href="README.html#troubleshooting-faq"><span class="std std-ref">troubleshooting</span></a> for common issues</p></li>
</ul>
</section>
<section id="file-structure">
<h2>File Structure<a class="headerlink" href="#file-structure" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>distqat/
├── configs/                 # YAML configuration files
│   ├── resnet18.yaml       # Default config
│   ├── distilgpt2.yaml     # Language model config
│   └── ...
├── src/distqat/
│   ├── distributed/
│   │   ├── monitor.py      # DHT monitoring
│   │   ├── client.py       # Trainer orchestration
│   │   ├── server.py       # Expert hosting
│   │   └── trainer.py      # Training execution
│   └── models/             # Model definitions
├── start_trainer_client.py # Launch coordinator
├── start_servers.py        # Launch workers
└── logs/                   # Training logs (created at runtime)
</pre></div>
</div>
</section>
<section id="monitoring-training">
<h2>Monitoring Training<a class="headerlink" href="#monitoring-training" title="Link to this heading">¶</a></h2>
<section id="check-logs">
<h3>Check Logs<a class="headerlink" href="#check-logs" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Monitor logs</span>
tail<span class="w"> </span>-f<span class="w"> </span>logs/resnet18/client.log
tail<span class="w"> </span>-f<span class="w"> </span>logs/resnet18/server_*.log

<span class="c1"># Watch WandB dashboard (if configured)</span>
<span class="c1"># Visit https://wandb.ai/your-entity/distqat</span>
</pre></div>
</div>
</section>
<section id="verify-training-is-running">
<h3>Verify Training is Running<a class="headerlink" href="#verify-training-is-running" title="Link to this heading">¶</a></h3>
<p>Look for these messages in client logs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INFO</span><span class="p">:</span> <span class="n">Found</span> <span class="n">expert</span> <span class="n">front</span><span class="mf">.0.0.0</span> <span class="n">at</span> <span class="mf">0.0.0.0</span><span class="p">:</span><span class="mi">65297</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Complete</span> <span class="n">pipelines</span><span class="p">:</span> <span class="mi">2</span> <span class="o">-</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">INFO</span><span class="p">:</span>  <span class="n">Spawned</span> <span class="n">trainer</span> <span class="mi">0</span> <span class="k">with</span> <span class="n">PID</span> <span class="mi">2508688</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Trainer</span> <span class="mi">0</span> <span class="n">Step</span> <span class="c1">#100 loss = 2.34567 sps = 12.5</span>
</pre></div>
</div>
</section>
</section>
<section id="stop-training">
<h2>Stop Training<a class="headerlink" href="#stop-training" title="Link to this heading">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ctrl+C in the terminal running the process</span>

<span class="c1"># Or kill all processes</span>
pkill<span class="w"> </span>-f<span class="w"> </span>distqat

<span class="c1"># Clean up ports if needed</span>
<span class="nb">kill</span><span class="w"> </span>-9<span class="w"> </span><span class="k">$(</span>lsof<span class="w"> </span>-t<span class="w"> </span>-i:50000<span class="k">)</span>
<span class="nb">kill</span><span class="w"> </span>-9<span class="w"> </span><span class="k">$(</span>lsof<span class="w"> </span>-t<span class="w"> </span>-i:50500<span class="k">)</span>
<span class="nb">kill</span><span class="w"> </span>-9<span class="w"> </span><span class="k">$(</span>lsof<span class="w"> </span>-t<span class="w"> </span>-i:51000<span class="k">)</span>
<span class="nb">kill</span><span class="w"> </span>-9<span class="w"> </span><span class="k">$(</span>lsof<span class="w"> </span>-t<span class="w"> </span>-i:52555<span class="k">)</span>
</pre></div>
</div>
</section>
<section id="test-failover">
<h2>Test Failover<a class="headerlink" href="#test-failover" title="Link to this heading">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>test_failover.py<span class="w"> </span>--public-ip<span class="w"> </span><span class="si">${</span><span class="nv">PUBLIC_IP</span><span class="si">}</span>
</pre></div>
</div>
<p>This script automatically tests the failover mechanism by killing a server and verifying recovery.</p>
<hr class="docutils" />
<p><strong>Need Help?</strong> See the <a class="reference internal" href="README.html#troubleshooting-faq"><span class="std std-ref">Troubleshooting &amp; FAQ</span></a> section in the main README.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">DistQat</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="DOCUMENTATION_INDEX.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html">Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guides</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quick Start Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Deployment Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="DEPLOYMENT.html">Setup/Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="SKYPILOT_SERVER_SETUP.html">Skypilot server setup template</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Architecture Diagrams</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="diagrams/ARCHITECTURE.html">Architecture Diagram</a></li>
<li class="toctree-l1"><a class="reference internal" href="diagrams/NODE_ARRANGEMENT.html">Node Arrangement Diagram</a></li>
<li class="toctree-l1"><a class="reference internal" href="diagrams/TRAINING_FLOW.html">Training Flow Diagram</a></li>
<li class="toctree-l1"><a class="reference internal" href="diagrams/FAILOVER.html">Failover Mechanism Diagram</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="README.html" title="previous chapter">Documentation</a></li>
      <li>Next: <a href="DEPLOYMENT.html" title="next chapter">Setup/Deployment</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, SEMRON Team.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.4.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/QUICK_START.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>